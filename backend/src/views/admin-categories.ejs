<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–°–¢–ù–ì Service Desk ‚Äì –ö–∞—Ç–µ–≥–æ—Ä–∏–∏</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
  >
  <link href="/css/app.css" rel="stylesheet">
  <link href="/css/app-light.css" rel="stylesheet">
  <style>
    body { background-color:#0f172a; color:#e5e7eb; }
    .app-shell { min-height:100vh; display:flex; flex-direction:column; }
    .app-header { backdrop-filter:blur(8px); background:rgba(15,23,42,.9); border-bottom:1px solid #1f2937; }
    .app-logo { font-weight:700; letter-spacing:.04em; font-size:1.1rem; text-transform:uppercase; }
    .card-dark { background:#020617; border-radius:1rem; border:1px solid #1f2937; }
    .form-control,.form-select { background:#020617; border-color:#1f2937; color:#e5e7eb; }
    .form-control:focus,.form-select:focus { background:#020617; border-color:#4f46e5; box-shadow:0 0 0 1px #4f46e5; color:#e5e7eb; }
    .table thead tr { border-color: #1f2937; }
    .table > :not(caption) > * > * { background-color: transparent; border-color: #1f2937; color: #e5e7eb; vertical-align: middle; }

  </style>
</head>
<body>
<div class="app-shell">
  <header class="app-header py-2 px-3">
    <div class="container-fluid d-flex justify-content-between align-items-center">
      <div class="d-flex align-items-center gap-3">
        <div class="app-logo">–°–¢–ù–ì ‚Ä¢ Service Desk</div>
        <span class="badge rounded-pill text-bg-dark border border-secondary">Admin</span>
      </div>
      <div class="d-flex align-items-center gap-3">
        <a href="/admin/dashboard" class="btn btn-outline-light btn-sm">Dashboard</a>
        <a href="/" class="btn btn-outline-light btn-sm">–ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é</a>
        <button
  type="button"
  class="btn btn-outline-light btn-sm me-2"
  onclick="window.STNGTheme.toggle()"
>
  üåì
</button>
      </div>
    </div>
  </header>

  <main class="flex-grow-1 py-3">
    <div class="container-fluid">
      <h4 class="mb-3">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–∏–∫–µ—Ç–æ–≤</h4>

      <div class="row g-3">
        <div class="col-lg-7">
          <div class="card-dark p-3">
            <h6 class="mb-3">–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–ø–æ–∫–∞ —Ñ–µ–π–∫–æ–≤—ã–µ)</h6>
            <div class="table-responsive">
              <table class="table table-sm align-middle">
                <thead>
                <tr>
                  <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th><th>–û—á–µ—Ä–µ–¥—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</th><th>SLA (—á)</th><th>–ê–∫—Ç–∏–≤–Ω–∞</th>
                </tr>
                </thead>
<tbody>
  <% if (categories && categories.length > 0) { %>
    <% categories.forEach(cat => { %>
      <tr>
        <td><%= cat.name %></td>
        <td><%= cat.queue_name %></td>
        <td><%= cat.sla_hours %></td>
        <td><%= cat.is_active ? '–î–∞' : '–ù–µ—Ç' %></td>
      </tr>
    <% }) %>
  <% } else { %>
    <tr>
      <td colspan="4" class="text-center text-secondary">
        –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ–∫–∞ –Ω–µ —Å–æ–∑–¥–∞–Ω—ã
      </td>
    </tr>
  <% } %>
</tbody>
            </div>
          </div>
        </div>

        <div class="col-lg-5">
          <div class="card-dark p-3">
            <h6 class="mb-3">–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</h6>
<form method="post" action="/admin/categories">
  <div class="mb-3">
    <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
    <input type="text" class="form-control" name="name"
           placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: VPN / —É–¥–∞–ª—ë–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø" required>
  </div>
  <div class="mb-3">
    <label class="form-label">–û—á–µ—Ä–µ–¥—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</label>
    <select class="form-select" name="queue_name">
      <option>–°–ò–¢ ‚Äî 1 –ª–∏–Ω–∏—è</option>
      <option>–°–ò–¢ ‚Äî 2 –ª–∏–Ω–∏—è</option>
      <option>DevOps</option>
      <option>–°–µ—Ç–µ–≤–∏–∫–∏</option>
    </select>
  </div>
  <div class="mb-3">
    <label class="form-label">SLA (—á–∞—Å—ã)</label>
    <input type="number" class="form-control" name="sla_hours" value="8" min="1">
  </div>
  <div class="form-check mb-3">
    <input class="form-check-input" type="checkbox" id="cat-active" name="is_active" value="1" checked>
    <label class="form-check-label" for="cat-active">–ê–∫—Ç–∏–≤–Ω–∞</label>
  </div>
  <button type="submit" class="btn btn-primary btn-sm">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
</form>
          </div>
        </div>
      </div>

    </div>
  </main>
</div>
</body>
</html>
